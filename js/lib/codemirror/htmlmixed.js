define(["./codemirror","css!./theme-dark"],function(e){return e.defineMode("htmlmixed",function(t){function r(e,t){var r=o.token(e,t.htmlState);return"tag"==r&&">"==e.current()&&t.htmlState.context&&(/^script$/i.test(t.htmlState.context.tagName)?(t.token=a,t.localState=l.startState(o.indent(t.htmlState,""))):/^style$/i.test(t.htmlState.context.tagName)&&(t.token=i,t.localState=s.startState(o.indent(t.htmlState,"")))),r}function n(e,t,r){var n,a=e.current(),i=a.search(t);return i>-1?e.backUp(a.length-i):(n=a.match(/<\/?$/))&&(e.backUp(a.length),e.match(t,!1)||e.match(a[0])),r}function a(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=r,t.localState=null,r(e,t)):n(e,/<\/\s*script\s*>/,l.token(e,t.localState))}function i(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=r,t.localState=null,r(e,t)):n(e,/<\/\s*style\s*>/,s.token(e,t.localState))}var o=e.getMode(t,{name:"xml",htmlMode:!0}),l=e.getMode(t,"javascript"),s=e.getMode(t,"css");return{startState:function(){var e=o.startState();return{token:r,localState:null,mode:"html",htmlState:e}},copyState:function(t){if(t.localState)var r=e.copyState(t.token==i?s:l,t.localState);return{token:t.token,localState:r,mode:t.mode,htmlState:e.copyState(o,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return e.token==r||/^\s*<\//.test(t)?o.indent(e.htmlState,t):e.token==a?l.indent(e.localState,t):s.indent(e.localState,t)},electricChars:"/{}:",innerMode:function(e){var t=e.token==r?o:e.token==a?l:s;return{state:e.localState||e.htmlState,mode:t}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed"),e.defineMode("css",function(e){function t(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=!0;return t}function r(e,t){return l=t,e}function n(e,t){var n=e.next();if("@"==n)return e.eatWhile(/[\w\\\-]/),r("def",e.current());if("/"==n&&e.eat("*"))return t.tokenize=a,a(e,t);if("<"==n&&e.eat("!"))return t.tokenize=i,i(e,t);if("="==n)r(null,"compare");else{if(("~"==n||"|"==n)&&e.eat("="))return r(null,"compare");if('"'==n||"'"==n)return t.tokenize=o(n),t.tokenize(e,t);if("#"==n)return e.eatWhile(/[\w\\\-]/),r("atom","hash");if("!"==n)return e.match(/^\s*\w*/),r("keyword","important");if(/\d/.test(n))return e.eatWhile(/[\w.%]/),r("number","unit");if("-"!==n)return/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier",l):":"==n?r("operator",n):/[;{}\[\]\(\)]/.test(n)?r(null,n):(e.eatWhile(/[\w\\\-]/),r("property","variable"));if(/\d/.test(e.peek()))return e.eatWhile(/[\w.%]/),r("number","unit");if(e.match(/^[^-]+-/))return r("meta",l)}}function a(e,t){for(var a,i=!1;null!=(a=e.next());){if(i&&"/"==a){t.tokenize=n;break}i="*"==a}return r("comment","comment")}function i(e,t){for(var a,i=0;null!=(a=e.next());){if(i>=2&&">"==a){t.tokenize=n;break}i="-"==a?i+1:0}return r("comment","comment")}function o(e){return function(t,a){for(var i,o=!1;null!=(i=t.next())&&(i!=e||o);)o=!o&&"\\"==i;return o||(a.tokenize=n),r("string","string")}}var l,s=e.indentUnit,c=t(["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"]),u=t(["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"]),d=t(["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid-cell","grid-column","grid-column-align","grid-column-sizing","grid-column-span","grid-columns","grid-flow","grid-row","grid-row-align","grid-row-sizing","grid-row-span","grid-rows","grid-template","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-shadow","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"]),p=t(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"]),m=t(["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","navy","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","overlay","overline","padding","padding-box","painted","paused","persian","plus-darker","plus-lighter","pointer","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","white","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small","yellow"]);return{startState:function(e){return{tokenize:n,baseIndent:e||0,stack:[]}},token:function(e,t){if(e.eatSpace())return null;var r=t.tokenize(e,t),n=t.stack[t.stack.length-1];return"property"==r?"propertyValue"==n?r=m[e.current()]?"string-2":p[e.current()]?"keyword":"variable-2":"rule"==n?d[e.current()]||(r+=" error"):n&&"@media{"!=n?"@media"==n?r=c[e.current()]?"attribute":/^(only|not)$/i.test(e.current())?"keyword":"and"==e.current().toLowerCase()?"error":u[e.current()]?"error":"attribute error":"@mediaType"==n?r=c[e.current()]?"attribute":"and"==e.current().toLowerCase()?"operator":/^(only|not)$/i.test(e.current())?"error":u[e.current()]?"error":"error":"@mediaType("==n?d[e.current()]||(c[e.current()]?r="error":"and"==e.current().toLowerCase()?r="operator":/^(only|not)$/i.test(e.current())?r="error":r+=" error"):r="error":r="tag":"atom"==r?n&&"@media{"!=n?"propertyValue"==n?/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e.current())||(r+=" error"):r="error":r="builtin":"@media"==n&&"{"==l&&(r="error"),"{"==l?"@media"==n||"@mediaType"==n?(t.stack.pop(),t.stack[t.stack.length-1]="@media{"):t.stack.push("rule"):"}"==l?(t.stack.pop(),"propertyValue"==n&&t.stack.pop()):"@media"==l?t.stack.push("@media"):"@media"==n&&/\b(keyword|attribute)\b/.test(r)?t.stack.push("@mediaType"):"@mediaType"==n&&","==e.current()?t.stack.pop():"@mediaType"==n&&"("==l?t.stack.push("@mediaType("):"@mediaType("==n&&")"==l?t.stack.pop():"rule"==n&&":"==l?t.stack.push("propertyValue"):"propertyValue"==n&&";"==l&&t.stack.pop(),r},indent:function(e,t){var r=e.stack.length;return/^\}/.test(t)&&(r-="propertyValue"==e.stack[e.stack.length-1]?2:1),e.baseIndent+r*s},electricChars:"}"}}),e.defineMIME("text/css","css"),e.defineMode("javascript",function(t,r){function n(e,t,r){return t.tokenize=r,r(e,t)}function a(e,t){for(var r,n=!1;null!=(r=e.next());){if(r==t&&!n)return!1;n=!n&&"\\"==r}return n}function i(e,t,r){return $=e,U=r,t}function o(e,t){var r=e.next();if('"'==r||"'"==r)return n(e,t,l(r));if(/[\[\]{}\(\),;\:\.]/.test(r))return i(r);if("0"==r&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(r)||"-"==r&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==r)return e.eat("*")?n(e,t,s):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(a(e,"/"),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(Y),i("operator",null,e.current()));if("#"==r)return e.skipToEnd(),i("error","error");if(Y.test(r))return e.eatWhile(Y),i("operator",null,e.current());e.eatWhile(/[\w\$_]/);var o=e.current(),c=F.propertyIsEnumerable(o)&&F[o];return c&&"."!=t.lastType?i(c.type,c.style,o):i("variable","variable",o)}function l(e){return function(t,r){return a(t,e)||(r.tokenize=o),i("string","string")}}function s(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=o;break}n="*"==r}return i("comment","comment")}function c(e,t,r,n,a,i){this.indented=e,this.column=t,this.type=r,this.prev=a,this.info=i,null!=n&&(this.align=n)}function u(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0}function d(e,t,r,n,a){var i=e.cc;for(H.state=e,H.stream=a,H.marked=null,H.cc=i,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=i.length?i.pop():D?y:x;if(o(r,n)){for(;i.length&&i[i.length-1].lex;)i.pop()();return H.marked?H.marked:"variable"==r&&u(e,n)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)H.cc.push(arguments[e])}function m(){return p.apply(null,arguments),!0}function f(e){var t=H.state;if(t.context){H.marked="def";for(var r=t.localVars;r;r=r.next)if(r.name==e)return;t.localVars={name:e,next:t.localVars}}}function h(){H.state.context={prev:H.state.context,vars:H.state.localVars},H.state.localVars=J}function g(){H.state.localVars=H.state.context.vars,H.state.context=H.state.context.prev}function b(e,t){var r=function(){var r=H.state;r.lexical=new c(r.indented,H.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function v(){var e=H.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function k(e){return function(t){return t==e?m():";"==e?p():m(arguments.callee)}}function x(e){return"var"==e?m(b("vardef"),N,k(";"),v):"keyword a"==e?m(b("form"),y,x,v):"keyword b"==e?m(b("form"),x,v):"{"==e?m(b("}"),C,v):";"==e?m():"function"==e?m(P):"for"==e?m(b("form"),k("("),b(")"),V,k(")"),v,x,v):"variable"==e?m(b("stat"),S):"switch"==e?m(b("form"),y,b("}","switch"),k("{"),C,v,v):"case"==e?m(y,k(":")):"default"==e?m(k(":")):"catch"==e?m(b("form"),h,k("("),A,k(")"),x,v,g):p(b("stat"),y,k(";"),v)}function y(e){return B.hasOwnProperty(e)?m(z):"function"==e?m(P):"keyword c"==e?m(w):"("==e?m(b(")"),w,k(")"),v,z):"operator"==e?m(y):"["==e?m(b("]"),j(y,"]"),v,z):"{"==e?m(b("}"),j(M,"}"),v,z):m()}function w(e){return e.match(/[;\}\)\],]/)?p():p(y)}function z(e,t){if("operator"==e&&/\+\+|--/.test(t))return m(z);if("operator"==e&&"?"==t)return m(y,k(":"),y);if(";"!=e)return"("==e?m(b(")"),j(y,")"),v,z):"."==e?m(T,z):"["==e?m(b("]"),y,k("]"),v,z):void 0}function S(e){return":"==e?m(v,x):p(z,k(";"),v)}function T(e){return"variable"==e?(H.marked="property",m()):void 0}function M(e){return"variable"==e&&(H.marked="property"),B.hasOwnProperty(e)?m(k(":"),y):void 0}function j(e,t){function r(n){return","==n?m(e,r):n==t?m():m(k(t))}return function(n){return n==t?m():p(e,r)}}function C(e){return"}"==e?m():p(x,C)}function q(e){return":"==e?m(I):p()}function I(e){return"variable"==e?(H.marked="variable-3",m()):p()}function N(e,t){return"variable"==e?(f(t),G?m(q,O):m(O)):p()}function O(e,t){return"="==t?m(y,O):","==e?m(N):void 0}function V(e){return"var"==e?m(N,k(";"),L):m(";"==e?L:"variable"==e?W:L)}function W(e,t){return"in"==t?m(y):m(z,L)}function L(e,t){return";"==e?m(E):"in"==t?m(y):m(y,k(";"),E)}function E(e){")"!=e&&m(y)}function P(e,t){return"variable"==e?(f(t),m(P)):"("==e?m(b(")"),h,j(A,")"),v,x,g):void 0}function A(e,t){return"variable"==e?(f(t),G?m(q):m()):void 0}var $,U,_=t.indentUnit,D=r.json,G=r.typescript,F=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),a=e("operator"),i={type:"atom",style:"atom"},o={"if":t,"while":t,"with":t,"else":r,async:r,await:r,"*":r,"yield":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),require:e("function"),"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":a,"typeof":a,"instanceof":a,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i};if(G){var l={type:"variable",style:"variable-3"},s={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:l,number:l,bool:l,any:l};for(var c in s)o[c]=s[c]}return o}(),Y=/[+\-*&%=<>!?|]/,B={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},H={state:null,column:null,marked:null,cc:null},J={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(e){return{tokenize:o,lastType:null,cc:[],lexical:new c((e||0)-_,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==$?r:(t.lastType=$,d(t,r,$,U,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=o)return 0;var n=r&&r.charAt(0),a=t.lexical;"stat"==a.type&&"}"==n&&(a=a.prev);var i=a.type,l=n==i;return"vardef"==i?a.indented+("operator"==t.lastType||","==t.lastType?4:0):"form"==i&&"{"==n?a.indented:"form"==i?a.indented+_:"stat"==i?a.indented+("operator"==t.lastType||","==t.lastType?_:0):"switch"!=a.info||l?a.align?a.column+(l?0:1):a.indented+(l?0:_):a.indented+(/^(?:case|default)\b/.test(r)?_:2*_)},electricChars:":{}",jsonMode:D}}),e.defineMIME("text/javascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0}),e.defineMode("xml",function(e,t){function r(e,t){function r(r){return t.tokenize=r,r(e,t)}var a=e.next();if("<"==a){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?r(i("atom","]]>")):null:e.match("--")?r(i("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),r(o(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=i("meta","?>"),"meta";var l=e.eat("/");k="";for(var s;s=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)k+=s;return k?(x=l?"closeTag":"openTag",t.tokenize=n,"tag"):"error"}if("&"==a){var c;return c=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),c?"atom":"error"}return e.eatWhile(/[^&<]/),null}function n(e,t){var n=e.next();return">"==n||"/"==n&&e.eat(">")?(t.tokenize=r,x=">"==n?"endTag":"selfcloseTag","tag"):"="==n?(x="equals",null):/[\'\"]/.test(n)?(t.tokenize=a(n),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function a(e){return function(t,r){for(;!t.eol();)if(t.next()==e){r.tokenize=n;break}return"string"}}function i(e,t){return function(n,a){for(;!n.eol();){if(n.match(t)){a.tokenize=r;break}n.next()}return e}}function o(e){return function(t,n){for(var a;null!=(a=t.next());){if("<"==a)return n.tokenize=o(e+1),n.tokenize(t,n);if(">"==a){if(1==e){n.tokenize=r;break}return n.tokenize=o(e-1),n.tokenize(t,n)}}return"meta"}}function l(){for(var e=arguments.length-1;e>=0;e--)y.cc.push(arguments[e])}function s(){return l.apply(null,arguments),!0}function c(e,t){var r=S.doNotIndent.hasOwnProperty(e)||y.context&&y.context.noIndent;y.context={prev:y.context,tagName:e,indent:y.indented,startOfLine:t,noIndent:r}}function u(){y.context&&(y.context=y.context.prev)}function d(e){if("openTag"==e)return y.tagName=k,s(h,p(y.startOfLine));if("closeTag"==e){var t=!1;return y.context?y.context.tagName!=k&&(S.implicitlyClosed.hasOwnProperty(y.context.tagName.toLowerCase())&&u(),t=!y.context||y.context.tagName!=k):t=!0,t&&(w="error"),s(m(t))}return s()}function p(e){return function(t){return"selfcloseTag"==t||"endTag"==t&&S.autoSelfClosers.hasOwnProperty(y.tagName.toLowerCase())?(f(y.tagName.toLowerCase()),s()):"endTag"==t?(f(y.tagName.toLowerCase()),c(y.tagName,e),s()):s()}}function m(e){return function(t){return e&&(w="error"),"endTag"==t?(u(),s()):(w="error",s(arguments.callee))}}function f(e){for(var t;;){if(!y.context)return;if(t=y.context.tagName.toLowerCase(),!S.contextGrabbers.hasOwnProperty(t)||!S.contextGrabbers[t].hasOwnProperty(e))return;u()}}function h(e){return"word"==e?(w="attribute",s(g,h)):"endTag"==e||"selfcloseTag"==e?l():(w="error",s(h))}function g(e){return"equals"==e?s(b,h):(S.allowMissing?"word"==e&&(w="attribute"):w="error","endTag"==e||"selfcloseTag"==e?l():s())}function b(e){return"string"==e?s(v):"word"==e&&S.allowUnquoted?(w="string",s()):(w="error","endTag"==e||"selfCloseTag"==e?l():s())}function v(e){return"string"==e?s(v):l()}var k,x,y,w,z=e.indentUnit,S=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},T=t.alignCDATA;return{startState:function(){return{tokenize:r,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=e.indentation()),e.eatSpace())return null;w=x=k=null;var r=t.tokenize(e,t);if(t.type=x,(r||x)&&"comment"!=r)for(y=t;;){var n=t.cc.pop()||d;if(n(x||r))break}return t.startOfLine=!1,w||r},indent:function(e,t,a){var i=e.context;if(e.tokenize!=n&&e.tokenize!=r||i&&i.noIndent)return a?a.match(/^(\s*)/)[0].length:0;if(T&&/<!\[CDATA\[/.test(t))return 0;for(i&&/^<\//.test(t)&&(i=i.prev);i&&!i.startOfLine;)i=i.prev;return i?i.indent+z:0},electricChars:"/"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0}),e});