"use strict";define(["yua","text!./main.htm","css!./main"],function(t,r){function e(t){if(t.total<2)return t.pageList.clear();var r=[],e=t.curr<t.max/2?t.max-t.curr:Math.floor(t.max/2);t.curr-e>1&&r.push("...");for(var n=t.curr-e;n<t.curr+e+1&&n<=t.total;n++)n>0&&r.push(n);t.curr+e<t.total&&r.push("..."),t.pageList.clear(),t.pageList.pushArray(r)}function n(t,r){t<1&&(t=r.input=1),t>r.total&&(t=r.input=r.total),t!==r.curr&&(r.curr=r.input=t,r.$onJump(t))}t.ui.pages="0.0.1";var u={plain:1,green:1,blue:1,red:1,orange:1,grey:1},o=["skin-1 ","skin-2 "];return t.component("pages",{$template:r,$construct:function(r,e,n){return t.mix(r,e,n),r.theme=o[r.theme>>0],r.theme||(r.theme=o[0]),r.color&&u[r.color]?r.theme+=r.color:r.theme+="plain",delete r.color,r},$init:function(t){e(t),t.$setUrl=function(r){return!t.url||"..."===r||t.curr===r||r>t.total||1>r?"javascript:;":t.url.replace("{id}",r)},t.$forceReset=function(){t.curr=1,e(t)},t.$jump=function(r,e){if("..."!==e){var u=this.getAttribute("href")||this.getAttribute("xlink:href");void 0!==e?("javascript:;"!==u&&(location.hash=u),n(e>>0,t)):(t.input=t.input>>>0||1,13==r.keyCode&&n(t.input,t))}},t.$watch("curr",function(r,n){(r=r>>>0||1)!==(n>>>=0)&&e(t)}),t.$watch("total",function(r,n){(r=r>>>0||1)!==(n>>>=0)&&e(t)})},$ready:function(t){t.$onSuccess(t)},curr:1,total:1,max:5,url:"javascript:;",inputJump:!1,simpleMode:!1,input:1,pageList:[],btns:{prev:"<<",next:">>",home:"首页",end:"末页"},theme:"",$skipArray:["max","btns","url","theme"],$setUrl:t.noop,$jump:t.noop,$onJump:t.noop,$onSuccess:t.noop,$forceReset:t.noop})});