"use strict";define(["yua","text!./pages.htm","css!./pages"],function(t,r){function u(t){if(t.total<2)return t.pageList.clear();var r=[],u=t.curr<t.max/2?t.max-t.curr:Math.floor(t.max/2);t.curr-u>1&&r.push("...");for(var n=t.curr-u;n<t.curr+u+1&&n<=t.total;n++)n>0&&r.push(n);t.curr+u<t.total&&r.push("..."),t.pageList=r}function n(t,r){1>t&&(t=r.input=1),t>r.total&&(t=r.input=r.total),t!==r.curr&&(r.curr=r.input=t,r.$onJump(t))}return t.component("pages",{$template:r,$init:function(t){u(t),t.$setUrl=function(r){return!t.url||"..."===r||t.curr===r||r>t.total||1>r?"javascript:;":t.url.replace("{id}",r)},t.$jump=function(r,u){if("..."!==u){var a=this.getAttribute("href")||this.getAttribute("xlink:href");if(void 0!==u){"javascript:;"!==a&&(location.hash=a);var i=u>>0;n(i,t)}else t.input=t.input>>>0||1,13==r.keyCode&&n(t.input,t)}},t.$watch("curr",function(r,n){r=r>>>0||1,n>>>=0,r!==n&&u(t)}),t.$watch("total",function(r,n){r=r>>>0||1,n>>>=0,r!==n&&u(t)})},curr:1,total:1,max:5,url:"javascript:;",inputJump:!1,simpleMode:!1,input:1,pageList:[],btns:{prev:"<<",next:">>",home:"首页",end:"末页"},$skipArray:["max","btns","url"],$setUrl:t.noop,$jump:t.noop,$onJump:t.noop})});