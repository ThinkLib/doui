"use strict";define(["yua","css!./skin/def.css"],function(){function e(i,l){var r="";return i.forEach(function(i,t){var o=l+"["+t+"]",a="";r+=c.replace(/\{it\}/g,o),i.children&&(a+=e(i.children,o+".children"),a=n.replace("{li}",a).replace("{it}",o)),r=r.replace(/\{child\}/,a)}),r}yua.ui.tree="0.0.1";var i='<ul class="do-tree skin-{skin}">{li}</ul>',n='<ul :class="{open: {it}.open}">{li}</ul>',c='<li :class="{open: {it}.open, dir: {it}.children}"><em :click="$toggle({it})"></em><span :click="$click({it})" :text="{it}.name"></span>{child}</li>';return yua.component("tree",{$template:"",$construct:function(n,c,l){if(!c.from&&!l.from)throw new Error("tree组件必须传入「from」属性");var r=l.from||c.from,t=n.$up[r].$model,o=e(t,r);return delete l.from,delete c.from,yua.mix(n,c,l),n.skin=n.skin||"def",o=i.replace("{li}",o).replace("{skin}",n.skin),n.$template=o,n},$init:function(e){e.$click=function(i){e.$onClick&&e.$onClick(i)}},$click:yua.noop,$toggle:function(e){e.open=!e.open}})});